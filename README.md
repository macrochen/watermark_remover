# 图片去水印工具 (Image Watermark Remover)

这是一个基于 Web 的智能图片处理工具，旨在通过计算机视觉技术快速去除图片中的水印、杂物，或对敏感区域进行马赛克处理。

## 🌟 主要功能

- **🖌️ 涂抹模式 (默认)**
  - **所见即所得**：直接在原图上进行涂抹，松开鼠标即可看到处理结果。
  - **原地编辑**：支持对同一张图片进行多次连续涂抹处理。
  - **撤销支持**：提供多步撤销功能，处理不满意可随时回退。
  - **灵活笔刷**：可调节笔刷大小，精准覆盖不同尺寸的水印。

- **⛶ 框选模式**
  - **矩形选取**：适合处理规则形状的水印。
  - **精确控制**：提供 X、Y、宽、高四个维度的坐标输入框，支持手动微调。
  - **实时预览**：调整选框后自动触发处理，右侧实时显示对比结果。

- **⬛ 马赛克功能**
  - 在涂抹模式下，可自由切换“去水印”与“打马赛克”功能，保护隐私更方便。

- **📋 高效交互**
  - **粘贴上传**：直接使用 `Ctrl+V` (或 `Cmd+V`) 粘贴剪贴板中的图片。
  - **一键复制**：处理完成后，可直接点击按钮将结果图片复制回剪贴板。
  - **细节检查**：内置放大镜功能，鼠标悬停在结果图上即可查看修复细节。

## 🛠️ 技术栈

- **后端**: Python, Flask, OpenCV, NumPy
- **前端**: HTML5, CSS3, jQuery, Cropper.js

## 🚀 快速启动

1. **安装依赖**
   确保你已经安装了 Python 3，然后在项目根目录运行：
   ```bash
   pip install -r requirements.txt
   ```

2. **启动应用**
   使用提供的启动脚本：
   ```bash
   chmod +x start.sh
   ./start.sh
   ```
   脚本会自动激活虚拟环境（如果存在），启动 Flask 服务，并自动在浏览器中打开：`http://127.0.0.1:5002`

## 📖 使用指南

1. **上传图片**：点击上传按钮、拖入文件或直接 `Ctrl+V` 粘贴图片。
2. **选择模式**：
   - 使用 **涂抹模式**（画笔）：涂抹你想要消除的区域，松开鼠标即刻生效。
   - 使用 **框选模式**（矩形）：拖动选框或输入坐标，查看右侧对比。
3. **切换功能**：在涂抹模式下，可选择“去水印”或“打马赛克”。
4. **检查与导出**：
   - 移动鼠标查看放大后的细节。
   - 点击“复制结果图片”直接粘贴到聊天工具。
   - 点击“下载处理后的图片”保存到本地。

---
*注意：本工具采用 OpenCV 的 `INPAINT_TELEA` 算法进行修复，对于复杂背景的大面积水印，修复效果视具体情况而定。*